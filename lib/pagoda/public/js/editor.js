// Generated by CoffeeScript 1.4.0
(function() {

  $(document).ready(function() {
    key.filter = function(e) {
      return true;
    };
    $('#post-editor #post_title').autosize({
      append: "\n"
    });
    $("#fullscreen").click(function(e) {
      return screenfull.request();
    });
    screenfull.onchange = function() {
      if (screenfull.isFullscreen) {
        $('#fullscreen').hide();
        return setTimeout(function() {
          var rows;
          console.log($(window).height());
          rows = Math.ceil($(window).height() / 40);
          return $('#post_content').attr('rows', rows);
        }, 1000);
      } else {
        $('#fullscreen').show();
        return $('#post_content').attr('rows', 18);
      }
    };
    $('.delete-button').click(function() {
      if (!confirm("Confirm delete?")) {
        return false;
      }
    });
    key('⌘+enter, ctrl+enter', function(e) {
      return screenfull.toggle();
    });
    return key('⌘+s, ctrl+s', function(e) {
      if (window.location.pathname.indexOf('edit') === -1) {
        $('.edit_post').submit();
      } else {
        console.log("Ajax save should happen here");
      }
      return false;
    });
  });

}).call(this);
